var cts = window.cts || {};

cts.Chart = {};
cts.Chart.codeList = {
	member : [
		{
			name : "教师",//교사
			match : "user_type",
			code : "T",
			depth : "1",
			class_select : [true, false, false],
			value : [
				{
					name : "性别",
					table_label : [["性别","name"] , ["名","count"], ["比率","percent"]],
					match : "stat_type",
					d_type : "pie",
					d_list : ["pie" , "bar" , ""],
					code : "01",
					value : "",
					depth : "2",
				},
				{
					name : "年龄",
					table_label : [["年龄","name"] , ["名","count"] , ["比率","percent"] ],
					match : "stat_type",
					d_type : "pie",
					d_list : ["pie" , "bar" , ""],
					code : "02",
					value : "",
					depth : "2",
				},
				{
					name : "民族",
					table_label : [["民族" ,"name"] ,["名","count"], ["比率","percent"] ],
					match : "stat_type",
					d_type : "bar",
					d_list : ["pie" , "bar" , ""],
					code : "03",
					value : "",
					depth : "2",
				},
				{
					name : "籍贯",
					table_label : [["籍贯" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "bar",
					d_list : ["pie" , "bar" , ""],
					code : "04",
					value : "",
					depth : "2",
				},
				{
					name : "教龄",
					table_label : [["경력" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "bar",
					d_list : ["pie" , "bar" , ""],
					code : "05",
					value : "",
					depth : "2",
				},
				{
					name : "职务",
					table_label : [["职务" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "bar",
					d_list : ["pie" , "bar" , ""],
					code : "06",
					value : "",
					depth : "2",
				},
				{
					name : "职称",
					table_label : [["职称" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "bar",
					d_list : ["pie" , "bar" , ""],
					code : "07",
					value : "",
					depth : "2",
				},
				{
					name : "科目",
					table_label : [["科目" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "bar",
					d_list : ["pie" , "bar" , ""],
					code : "08",
					value : "",
					depth : "2",
				},
				{
					name : "获奖经历/特殊贡献",
					table_label : [["经历/贡献" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "bar",
					d_list : ["pie" , "bar" , ""],
					code : "09",
					value : "",
					depth : "2",
				},
			],
		},
		{
			name : "学生",//학생
			match : "user_type",
			code : "S",
			depth : "1",
			class_select : [true, true, false],
			value : [
				{
					name : "性别",
					table_label :[["性别" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "pie",
					d_list : ["pie" , "bar" , ""],
					code : "01",
					value : "",
					depth : "2",
				},
				{
					name : "年龄",
					table_label : [["年龄" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "pie",
					d_list : ["pie" , "bar" , ""],
					code : "02",
					value : "",
					depth : "2",
				},
				{
					name : "民族",
					table_label : [["民族" , "name"] ,["名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "bar",
					d_list : ["pie" , "bar" , ""],
					code : "03",
					value : "",
					depth : "2",
				},
				{
					name : "籍贯",
					table_label : [["籍贯" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "bar",
					d_list : ["pie" , "bar" , ""],
					code : "04",
					value : "",
					depth : "2",
				},
			],
		},
		{
			name : "家长", //학부모
			match : "user_type",
			code : "P",
			depth : "1",
			class_select : [true, true, false],
			value : [
				{
					name : "性别",
					table_label : [["性别" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "pie",
					d_list : ["pie" , "bar" , ""],
					code : "01",
					value : "",
					depth : "2",
				},
				{
					name : "年龄",
					table_label : [["年龄" ,"name"] ,[ "名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "pie",
					d_list : ["pie" , "bar" , ""],
					code : "02",
					value : "",
					depth : "2",
				},
				{
					name : "职业",
					table_label : [["职业" ,"name"] ,["名","count"], [ "比率","percent"] ],
					match : "stat_type",
					d_type : "bar",
					d_list : ["pie" , "bar" , ""],
					code : "10",
					value : "",
					depth : "2",
				},
			],
		}
	],


	learn : [
		{
			name : "科目",//科目
			code : "subject",
			depth : "0",
			value : []
		},
		{
			name : "데이터종류",//데이터종
			code : "mental",
			depth : "0",
			value : [
				{
					name : "学生出席率",
					code : "attd",
					depth : "1",
					value : [],
				},
				{
					name : "课堂练习",
					code : "1",
					depth : "1",
					value : [
						{
							name : "评分",
							code : "1",
							depth : "2",
						},
						{
							name : "提交率",
							code : "2",
							depth : "2",
						},
						{
							name : "学生排行",
							code : "rank",
							depth : "2",
						},
					]
				},
				{
					name : "预习",
					code : "2",
					depth : "1",
					value : [
						{
							name : "评分",
							code : "1",
							depth : "2",
						},
						{
							name : "提交率",
							code : "2",
							depth : "2",
						},
						{
							name : "学生排行",
							code : "rank",
							depth : "2",
						},
					]
				},
				{
					name : "作业",
					code : "3",
					depth : "1",
					value : [
						{
							name : "评分",
							code : "1",
							depth : "2",
						},
						{
							name : "提交率",
							code : "2",
							depth : "2",
						},
						{
							name : "学生排行",
							code : "rank",
							depth : "2",
						},
					]
				},
				{
					name : "复习",
					code : "4",
					depth : "1",
					value : [
						{
							name : "评分",
							code : "1",
							depth : "2",
						},
						{
							name : "提交率",
							code : "2",
							depth : "2",
						},
						{
							name : "学生排行",
							code : "rank",
							depth : "2",
						},
					]
				},
				/*
				{
					name : "문제카드",
					code : "5",
					depth : "1",
					value : [
						{
							name : "총문제풀이양",
							code : "1",
							depth : "2",
						},
						{
							name : "오답랭킹",
							code : "rank",
							depth : "2",
						},
					]
				}
				*/
			]
		},

	],//learn

	artmusic : [
		{
			name : "미육",
			code : "stat_type",
			depth : "0",
			value : [
			/*
				{
					name : "미술문제카드",
					code : "11",
					depth : "stat_type",
					match : "",
					method : "getArtMusic",
					subject : "51",
				},
			*/
				{
					name : "美术评价",
					code : "11",
					depth : "stat_type",
					match : "",
					method : "getArtMusicEval",
					subject : "51",
				},
				{
					name : "美术出勤率",
					code : "51",
					depth : "stat_type",
					match : "",
					method : "getMentalAttendance",
					subject : "51",
				},
				{
					name : "美术作业提交率",
					code : "12",
					depth : "stat_type",
					match : "",
					method : "getArtMusic",
					subject : "51",
				},
				/*
				{
					name : "음악문제카드",
					code : "21",
					depth : "stat_type",
					match : "",
					method : "getArtMusic",
					subject : "52",
				},
				*/
				{
					name : "音乐评价",
					code : "21",
					depth : "stat_type",
					match : "",
					method : "getArtMusicEval",
					subject : "52",
				},
				{
					name : "音乐出勤率",
					code : "52",
					depth : "stat_type",
					match : "",
					method : "getMentalAttendance",
					subject : "52",
				},
				{
					name : "音乐作业提交率",
					code : "22",
					depth : "stat_type",
					match : "",
					method : "getArtMusic",
					subject : "52",
				},
			]
		},
	],//artmusic

	physical : [
		{
			name : "체육",
			code : "-",
			value : [
				{
					name : "体育测试",
					code : "getPhysicalTestStat",
					depth : "0",
					d_type : "spider",
					value : []
				},
				{
					name : "体检项目",
					code : "getPhysicalConstitution",
					depth : "0",
					value : [
						{
							name : "体检数据",
							code : "11",
							depth : "1",
							d_type : "bar",
						},
						{
							name : "身高",
							code : "12",
							depth : "1",
							d_type : "bar",
						},
						{
							name : "体重",
							code : "13",
							depth : "1",
							d_type : "bar",
						},
						{
							name : "视力",
							code : "14",
							depth : "1",
							d_type : "bar",
						},
						{
							name : "常见疾病",
							code : "15",
							depth : "1",
							d_type : "bar",
						},
						{
							name : "隐疾",
							code : "16",
							depth : "1",
							d_type : "bar",
						},
					]
				},
			],
		},
	]
};
cts.Chart.requestURL = {
	getSchoolYearSubjectList : CTS_CHART_HOST + "/stat/getSchoolYearSubjectList.do",
	member : CTS_CHART_HOST+"/stat/member/getMember.do",
	learn : CTS_CHART_HOST+"/stat/mental/getMental.do",
	learn_rank : CTS_CHART_HOST+"/stat/mental/getMentalRank.do",
	learn_attd : CTS_CHART_HOST+"/stat/mental/getMentalAttendance.do",
	artmusic : CTS_CHART_HOST+"/stat/artMusic/getArtMusic.do",
	artmusic_eval : CTS_CHART_HOST+"/stat/artMusic/getArtMusicEval.do",
	artmusic_attd : CTS_CHART_HOST+"/stat/artMusic/getArtMusicAttendance.do",
	getPhysicalTestStat : CTS_CHART_HOST+"/stat/physical/getPhysicalTestStat.do",
	getPhysicalConstitution : CTS_CHART_HOST+"/stat/physical/getPhysicalConstitution.do",
	class_list : CTS_CHART_HOST + "/stat/getSchoolYearList.do",
	student_list : CTS_CHART_HOST+"/stat/getStudentList.do",
};




//localStorage={ subjectList: '[{"school_year":"08","subject_name":"生物","school_class_no":"02","subject_id":"17"}]' }


function cts_chart_subjectlist( target, school_year, class_no){
	var result = [];
	if(target == "LM" || target == "SS"){
		( cts_report_subjectObj[school_year] || [{ name : "-", code : "00" , depth : "subject" , match : ""}]).forEach(function(origin){
			var item = {
				name : origin.subject_name,
				code : origin.subject,
				depth : "subject",
				match : "",
			}
			result.push( item );
		});
	}else{
		//localStorage = localStorage || {};
		var subjectList;
		if(target == "CT"){
			//tmp = '[{"subject_id":"17","school_year":"08","school_class_no":"02","subject_name":"生物"},{"subject_id":"17","school_year":"07","school_class_no":"02","subject_name":"생물한"}]';
			subjectList = JSON.parse( localStorage.subjectid_list );
		}else{
			subjectList = JSON.parse( localStorage.subjectList );
			//tmp = '[{"subject_name":"数学","subject_id":"11","subject_group":"02","subject_desc":"수학"},{"subject_name":"语文","subject_id":"12","subject_group":"02","subject_desc":"어문"},{"subject_name":"趣味科学","subject_id":"13","subject_group":"02","subject_desc":"취미과학"},{"subject_name":"科学","subject_id":"14","subject_group":"02","subject_desc":"과학"},{"subject_name":"英语","subject_id":"15","subject_group":"02","subject_desc":"영어"},{"subject_name":"品德与社会","subject_id":"16","subject_group":"02","subject_desc":"품덕과사회"},{"subject_name":"生物","subject_id":"17","subject_group":"02","subject_desc":"생물"},{"subject_name":"地理","subject_id":"18","subject_group":"02","subject_desc":"지리"},{"subject_name":"政治","subject_id":"19","subject_group":"02","subject_desc":"정치"},{"subject_name":"历史","subject_id":"20","subject_group":"02","subject_desc":"역사"},{"subject_name":"品德与生活","subject_id":"21","subject_group":"02","subject_desc":"품덕과생활"},{"subject_name":"物理","subject_id":"22","subject_group":"02","subject_desc":"물리"},{"subject_name":"化学","subject_id":"23","subject_group":"02","subject_desc":"화학"},{"subject_name":"美术","subject_id":"51","subject_group":"02","subject_desc":"미술"},{"subject_name":"音乐","subject_id":"52","subject_group":"02","subject_desc":"음악"},{"subject_name":"体育活动","subject_id":"71","subject_group":"02","subject_desc":"체육활동"},{"subject_name":"体育","subject_id":"72","subject_group":"02","subject_desc":"체육"},{"subject_name":"글쓰기","subject_id":"101","subject_group":"61","subject_desc":"글쓰기"},{"subject_name":"열독","subject_id":"102","subject_group":"61","subject_desc":"열독"},{"subject_name":"작문","subject_id":"103","subject_group":"61","subject_desc":"작문"},{"subject_name":"편지","subject_id":"104","subject_group":"61","subject_desc":"편지"},{"subject_name":"영어실천","subject_id":"105","subject_group":"61","subject_desc":"영어실천"},{"subject_name":"영어열독","subject_id":"106","subject_group":"61","subject_desc":"영어열독"},{"subject_name":"아침회의","subject_id":"107","subject_group":"61","subject_desc":"아침회의"},{"subject_name":"사상품덕","subject_id":"108","subject_group":"61","subject_desc":"사상품덕"},{"subject_name":"반급회의","subject_id":"109","subject_group":"61","subject_desc":"반급회의"},{"subject_name":"자습","subject_id":"110","subject_group":"61","subject_desc":"자습"},{"subject_name":"실천","subject_id":"111","subject_group":"61","subject_desc":"실천"},{"subject_name":"영화","subject_id":"112","subject_group":"61","subject_desc":"영화"},{"subject_name":"공연","subject_id":"113","subject_group":"61","subject_desc":"공연"},{"subject_name":"기술","subject_id":"114","subject_group":"61","subject_desc":"기술"},{"subject_name":"바둑","subject_id":"115","subject_group":"61","subject_desc":"바둑"},{"subject_name":"스피킹","subject_id":"116","subject_group":"61","subject_desc":"스피킹"},{"subject_name":"국학고전","subject_id":"117","subject_group":"61","subject_desc":"국학고전"},{"subject_name":"정보기술","subject_id":"118","subject_group":"61","subject_desc":"정보기술"},{"subject_name":"연구성학습","subject_id":"119","subject_group":"61","subject_desc":"연구성학습"},{"subject_name":"노동기술","subject_id":"120","subject_group":"61","subject_desc":"노동기술"},{"subject_name":"방공안전","subject_id":"121","subject_group":"61","subject_desc":"방공안전"},{"subject_name":"건강교육","subject_id":"122","subject_group":"61","subject_desc":"건강교육"}]';
		}
		subjectList.forEach(function(origin){
			if( target == "CT" || (target == "ST" && school_year == origin.school_year) ){
				var item = {
					name : origin.subject_name,
					code : origin.subject_id,
					depth : "subject",
					match : "",
				}
				result.push( item );
			}
		});
	}
	console.info("cts_chart_subjectlist" , result);
	return result;
}
